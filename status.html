---
# Data for this page is found in _data/status.yml
title: Status
layout: page
---

<style>
            .status-box {
                width: 73px;
                height: 24px;
                line-height: 24px;
                border-radius: 4px;
                text-align: center;
                vertical-align: middle;
                padding: 0;
                margin: 0;
            }

            .status-box.zone-ok {
                background: rgba(21, 192, 70, 0.5);
            }

            .status-box.zone-failed {
                background: rgba(234, 0, 0, 0.5);
            }

</style>

            <p>Last updated: {{ site.time }}</p>
            <p>
                <table class="table">
                    <thead>
                        <tr><th>Zone</th><th>Status</th></tr>
                    </thead>
                    {% if site.data.status.zones.size > 0 %}
                    <tbody>
                        {% for zone in site.data.status.zones %}
                        {% assign status_lc = zone.status | lc %}
                        <tr>
                            <td>{{ zone.name }}</td>
                            <td>
                                {% if status_lc == 'success' %}
                                <div class="status-box zone-ok">
                                {% else %}
                                <div class="status-box zone-failed">
                                {% endif %}
                                    {{ zone.message }}
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                    {% endif %}
                </table>
            </p>

            <h3>Messages</h3>
            <div style="overflow: auto">
            {% if site.data.status.messages[0] %}
            {% assign datelimit = 'now' | date: '%s' | minus:604800000 %}
            {% assign sorted_messages = site.data.status.messages | sort: 'date' | reverse %}
            <table class="table" style="width: 90%; margin-left: auto; margin-right: auto;">
            {% for message in sorted_messages %}
                {% assign epoch = message.date | date: '%s' | ceil %}
                {% if epoch >= datelimit %}
                <tr>
                    <td style="white-space: nowrap; width: 100px">{{ message.date }}</td>
                    <td>{{ message.message }}</td>
                </tr>
                {% endif %}
            {% endfor %}
            </table>
            {% else %}
            <p>
                No updates.
            </p>
            {% endif %}
            </div>
